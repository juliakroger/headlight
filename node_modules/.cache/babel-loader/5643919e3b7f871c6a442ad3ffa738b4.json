{"ast":null,"code":"import _regeneratorRuntime from \"/home/kroger/Documents/headlight/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/kroger/Documents/headlight/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/kroger/Documents/headlight/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/kroger/Documents/headlight/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/kroger/Documents/headlight/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/kroger/Documents/headlight/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/kroger/Documents/headlight/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/kroger/Documents/headlight/src/App.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { Form, Container, Button, Input, Grid, Divider } from 'semantic-ui-react';\nimport ResultCard from './ResultCard';\nimport './App.css';\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n    _this.state = {\n      searchHistory: [],\n      query: '',\n      list: [],\n      loading: false\n    };\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"updateQuery\",\n    value: function updateQuery(e) {\n      this.setState({\n        query: e.target.value\n      });\n    }\n  }, {\n    key: \"query\",\n    value: function () {\n      var _query = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var config, response, list;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                config = {\n                  params: {\n                    query: this.state.query\n                  }\n                };\n                this.saveSearchHistory(this.state.query);\n                this.setState({\n                  loading: true\n                });\n                _context.next = 5;\n                return axios.get('https://www.headlightlabs.com/api/assessment_search_wrapper', config);\n\n              case 5:\n                response = _context.sent;\n                list = response && response.data && response.data.itemListElement || [];\n                this.setState({\n                  list: list,\n                  loading: false\n                });\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function query() {\n        return _query.apply(this, arguments);\n      }\n\n      return query;\n    }()\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.setState({\n        searchHistory: this.getSearchHistory()\n      });\n    }\n  }, {\n    key: \"searchByHistory\",\n    value: function searchByHistory(query) {\n      var _this2 = this;\n\n      this.setState({\n        query: query\n      }, function () {\n        _this2.query(query);\n      });\n    }\n  }, {\n    key: \"getSearchHistory\",\n    value: function getSearchHistory() {\n      return this.getArrayFromLocalStorage('searchHistory', []);\n    }\n  }, {\n    key: \"getArrayFromLocalStorage\",\n    value: function getArrayFromLocalStorage(name, fallback) {\n      try {\n        var item = localStorage.getItem('searchHistory');\n        return item.split(',');\n      } catch (e) {\n        return fallback;\n      }\n    }\n  }, {\n    key: \"saveSearchHistory\",\n    value: function saveSearchHistory(query) {\n      var searchHistory = this.state.searchHistory.concat([]);\n      var index = searchHistory.indexOf(query);\n\n      if (index !== -1) {\n        searchHistory.splice(index, 1);\n      }\n\n      searchHistory.unshift(query);\n      this.setState({\n        searchHistory: searchHistory\n      });\n      localStorage.setItem('searchHistory', searchHistory);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(Container, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(Form, {\n        style: {\n          marginTop: '16px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(Input, {\n        onChange: this.updateQuery.bind(this),\n        value: this.state.query,\n        loading: this.state.loading,\n        placeholder: \"Search...\",\n        style: {\n          marginRight: '16px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }), React.createElement(Button, {\n        submit: true,\n        primary: true,\n        onClick: this.query.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, \"Search\")), React.createElement(\"div\", {\n        style: {\n          marginTop: '16px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, this.state.searchHistory.map(function (item, index) {\n        return React.createElement(Button, {\n          key: index,\n          size: \"mini\",\n          onClick: _this3.searchByHistory.bind(_this3, item),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91\n          },\n          __self: this\n        }, item);\n      })), React.createElement(Divider, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }), React.createElement(Grid, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, React.createElement(Grid.Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, this.state.list.map(function (item, index) {\n        return React.createElement(Grid.Column, {\n          key: index,\n          width: 4,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 101\n          },\n          __self: this\n        }, React.createElement(ResultCard, {\n          name: item.result.name,\n          type: item.result.description,\n          description: item.result.detailedDescription && item.result.detailedDescription.articleBody,\n          imageUrl: item.result.image && item.result.image.contentUrl,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 102\n          },\n          __self: this\n        }));\n      }))));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/home/kroger/Documents/headlight/src/App.js"],"names":["React","Component","axios","Form","Container","Button","Input","Grid","Divider","ResultCard","App","props","state","searchHistory","query","list","loading","e","setState","target","value","config","params","saveSearchHistory","get","response","data","itemListElement","getSearchHistory","getArrayFromLocalStorage","name","fallback","item","localStorage","getItem","split","concat","index","indexOf","splice","unshift","setItem","marginTop","updateQuery","bind","marginRight","map","searchByHistory","result","description","detailedDescription","articleBody","image","contentUrl"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport { Form, Container, Button, Input, Grid, Divider } from 'semantic-ui-react'\nimport ResultCard from './ResultCard'\nimport './App.css';\n\nclass App extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      searchHistory: [],\n      query: '',\n      list: [],\n      loading: false\n    }\n  }\n\n  updateQuery(e) {\n    this.setState({query: e.target.value});\n  }\n\n  async query() {\n    const config = {\n      params: {\n        query: this.state.query\n      }\n    };\n\n    this.saveSearchHistory(this.state.query);\n\n    this.setState({loading: true});\n\n    const response = await axios.get('https://www.headlightlabs.com/api/assessment_search_wrapper', config);\n\n    const list = response && response.data && response.data.itemListElement || [];\n    this.setState({list, loading: false});\n  }\n\n  componentDidMount(){\n    this.setState({searchHistory: this.getSearchHistory()});\n  }\n\n  searchByHistory(query){\n    this.setState({query}, () => {\n      this.query(query);\n    });\n  }\n\n  getSearchHistory(){\n    return this.getArrayFromLocalStorage('searchHistory', []);\n  }\n\n  getArrayFromLocalStorage (name, fallback) {\n    try {\n      const item = localStorage.getItem('searchHistory');\n      return item.split(',');\n    } catch (e) {\n      return fallback;\n    }\n  }\n\n  saveSearchHistory(query){\n\n    let searchHistory = this.state.searchHistory.concat([]);\n\n    const index = searchHistory.indexOf(query);\n\n    if (index !== -1) {\n      searchHistory.splice(index, 1);\n    }\n\n    searchHistory.unshift(query);\n\n    this.setState({searchHistory});\n    localStorage.setItem('searchHistory', searchHistory);\n  }\n\n  render() {\n    return (\n      <Container>\n\n        <Form style={{marginTop: '16px'}}>\n          <Input onChange={this.updateQuery.bind(this)} value={this.state.query} loading={this.state.loading} placeholder='Search...' style={{marginRight: '16px'}} />\n          <Button submit primary onClick={this.query.bind(this)}>Search</Button>\n        </Form>\n\n        <div style={{marginTop: '16px'}}>\n          { this.state.searchHistory.map((item, index) =>\n            <Button key={index} size='mini' onClick={this.searchByHistory.bind(this, item)}>{item}</Button>\n          )}\n        </div>\n\n\n        <Divider />\n\n        <Grid>\n          <Grid.Row>\n        { this.state.list.map((item, index) =>\n            <Grid.Column key={index} width={4}>\n              <ResultCard\n                name={item.result.name}\n                type={item.result.description}\n                description={item.result.detailedDescription && item.result.detailedDescription.articleBody}\n                imageUrl={item.result.image && item.result.image.contentUrl}\n              >\n              </ResultCard>\n            </Grid.Column>\n        )}\n          </Grid.Row>\n        </Grid>\n\n      </Container>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}